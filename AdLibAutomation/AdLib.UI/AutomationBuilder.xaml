<Window x:Class="AdLib.UI.AutomationBuilder"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Automation Builder" Height="600" Width="1000">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <!-- Toolbox -->
            <ColumnDefinition Width="*"/>
            <!-- Workspace -->
            <ColumnDefinition Width="200"/>
            <!-- Properties Panel -->
            <ColumnDefinition Width="250"/>
            <!-- Execution Panel -->
        </Grid.ColumnDefinitions>

        <!-- Toolbox Panel -->
        <StackPanel Name="ToolboxPanel" Grid.Column="0" Background="LightGray">
            <TextBlock Text="Toolbox" FontWeight="Bold" Margin="10"/>
            <!-- Search TextBox with Placeholder -->
            <Grid Margin="5">
                <TextBox Name="SearchTextBox" TextChanged="SearchTextBox_TextChanged" />
                <TextBlock Text="Search..." Foreground="Gray" 
                           VerticalAlignment="Center" HorizontalAlignment="Left" 
                           Margin="5,0,0,0" IsHitTestVisible="False">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Text, ElementName=SearchTextBox}" Value="">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Grid>

            <StackPanel Name="ActionButtonsPanel" Margin="5">
                <!-- Dynamically generated buttons for available actions -->
            </StackPanel>
        </StackPanel>

        <!-- Workspace Panel -->
        <Canvas Name="WorkspaceCanvas" Grid.Column="1" Background="WhiteSmoke"
                AllowDrop="True" Drop="WorkspaceCanvas_Drop" DragOver="WorkspaceCanvas_DragOver">
            <!-- Visual representation of automation tasks will be placed here -->
        </Canvas>

        <!-- Properties Panel -->
        <StackPanel x:Name="PropertiesPanelContent" 
        Grid.Column="2" 
    HorizontalAlignment="Center" 
        VerticalAlignment="Top" 
        Width="200">
            <TextBlock Text="Action Properties" FontWeight="Bold" Margin="0"/>
            <!-- Dynamic properties for selected action will be added here -->
        </StackPanel>

        <!-- Add to Workflow Button -->
        <Button x:Name="AddToWorkflowButton" 
    Grid.Column="2" 
    Content="Add to Workflow" 
    Click="AddToWorkflowButton_Click" 
    HorizontalAlignment="Right" 
    VerticalAlignment="Bottom" 
    Margin="5"/>
        
        <!-- Execution List -->
        <ListBox x:Name="ExecutionListBox" 
                 Grid.Column="3" 
            ItemsSource="{Binding automationActions}" 
                 DisplayMemberPath="Name"
                 SelectedItem="{Binding SelectedAction, Mode=TwoWay}" 
                 HorizontalAlignment="Right" 
                 VerticalAlignment="Top" 
                 Width="250" Height="400"
                 Margin="10"/>


    </Grid>
</Window>
