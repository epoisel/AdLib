<Window x:Class="AdLib.UI.AutomationBuilder"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Automation Builder" Height="600" Width="1000">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <!-- Toolbox -->
            <ColumnDefinition/>
            <!-- Workspace -->
            <ColumnDefinition Width="264"/>
            <!-- Properties Panel -->
            <ColumnDefinition Width="174"/>
            <!-- Execution Panel -->
        </Grid.ColumnDefinitions>

        <!-- Toolbox Panel -->
        <StackPanel Name="ToolboxPanel" Grid.Column="0" Background="LightGray">
            <TextBlock Text="Toolbox" FontWeight="Bold" Margin="10"/>
            <!-- Search TextBox with Placeholder -->
            <Grid Margin="5">
                <TextBox Name="SearchTextBox" TextChanged="SearchTextBox_TextChanged" />
                <TextBlock Text="Search..." Foreground="Gray" 
                           VerticalAlignment="Center" HorizontalAlignment="Left" 
                           Margin="5,0,0,0" IsHitTestVisible="False">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Text, ElementName=SearchTextBox}" Value="">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Grid>

            <StackPanel Name="ActionButtonsPanel" Margin="5">
                <!-- Dynamically generated buttons for available actions -->
            </StackPanel>
        </StackPanel>

        <!-- Workspace Panel -->
        <Canvas Name="WorkspaceCanvas" Grid.Column="1" Background="WhiteSmoke"
                AllowDrop="True" Drop="WorkspaceCanvas_Drop" DragOver="WorkspaceCanvas_DragOver">
            <!-- Visual representation of automation tasks will be placed here -->
        </Canvas>

        <!-- Properties Panel -->
        <StackPanel Grid.Column="2" Background="LightGray">
            <TextBlock Text="Properties" FontWeight="Bold" Margin="10"/>
            <StackPanel Name="PropertiesPanelContent" Margin="10"/>
            <!-- This StackPanel is used to dynamically add property controls -->
            <!-- Add to Workflow Button -->
            <Button x:Name="AddToWorkflowButton" 
     Grid.Column="2" 
     Content="Add to Workflow" 
     Click="AddToWorkflowButton_Click" 
     Margin="22,282,145,282" Height="20" Width="97"/>
        </StackPanel>

       
        <!-- Execution List -->
        <StackPanel Grid.Column="3" Background="LightGray">
            <ListBox x:Name="ExecutionListBox" 
                 Grid.Column="3" 
            ItemsSource="{Binding automationActions}" 
                 DisplayMemberPath="Name"
                 SelectedItem="{Binding SelectedAction, Mode=TwoWay}" 
                  Height="400"/>
            <Button Content="Run Workflow" Click="RunWorkflow" Margin="5"/>
        </StackPanel>

    </Grid>
</Window>
